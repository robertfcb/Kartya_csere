<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cserek√°rtya N√©zeget≈ë</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f0f4f8; }
        .card-viewer { min-height: 400px; }
        
        /* A k√©p kit√∂lti a ter√ºletet, de nem v√°gja le a sz√©l√©t. */
        #card-image { object-fit: contain !important; }
        /* Modern bet≈±t√≠pus a log√≥hoz */
        .modern-font { font-family: 'Inter', sans-serif; letter-spacing: 0.1em; }

        /* KONFETTI/H√ìPEHELY ANIM√ÅCI√ì ST√çLUSOK (CSAK A KEZD≈êK√âPERNY≈êN L√ÅTHAT√ì) */
        .confetti-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 5;
        }
        .confetti {
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: transparent;
            border-radius: 50%;
        }
        /* A pehely meg√°ll a kont√©ner alj√°n (kb. 15px t√°vols√°gra) */
        @keyframes fall {
            from { top: -10px; } 
            to { top: calc(100% - 15px); }
        }
        /* Jav√≠tott fix men√º mobilra (kis k√©perny≈ën m√©g mindig fel√ºl jelenik meg, nagy k√©perny≈ën balra) */
        @media (max-width: 767px) {
            #mobile-menu-wrapper {
                position: sticky;
                top: 0;
                z-index: 20;
                background-color: #f0f4f8; /* Ugyanaz, mint a h√°tt√©r */
                padding-bottom: 1rem;
            }
        }

        /* √öJ ST√çLUS: A leny√≠l√≥ klubmen√º a gombon bel√ºl marad, lefel√© ny√≠lik */
        #club-dropdown-menu {
            position: static; /* Fel√ºl√≠rja az abszol√∫t poz√≠ci√≥t */
            width: 100%;
            margin-top: 0;
            margin-left: 0;
            background-color: #f8f8f8; /* S√∂t√©tebb h√°tt√©r a megk√ºl√∂nb√∂ztet√©shez */
            border: none;
            box-shadow: none;
            padding: 0.5rem 0;
            border-radius: 0 0 8px 8px;
            max-height: 250px; /* Max magass√°g a g√∂rget√©shez */
        }
        #club-dropdown-menu li {
            padding: 0;
        }
        #club-dropdown-menu .filter-button {
            padding-left: 1.5rem; /* Beh√∫z√°s az almen√º megk√ºl√∂nb√∂ztet√©s√©hez */
            font-weight: 400; /* V√©konyabb bet≈±t√≠pus */
        }

    </style>
</head>
<body class="text-[#073B4C] min-h-screen">

    <div class="container mx-auto p-4 md:p-8">
        
        <!-- √öJ FLEX CONTAINER: OLDALS√ÅV + F≈ê TARTALOM -->
        <!-- Elt√°vol√≠tottam a k√ºls≈ë <header> tag-et. -->
        <div class="flex flex-col md:flex-row gap-8">
            
            <!-- 1. BAL OLDALI MEN√úS√ÅV (ASIDE) -->
            <div id="mobile-menu-wrapper" class="md:w-64 w-full">
                <aside class="md:w-64 w-full bg-white rounded-xl shadow-2xl p-4 md:p-6 md:sticky md:top-8 md:h-[calc(100vh-64px)] md:overflow-y-auto">
                    <!-- F≈ë C√≠m beillesztve az oldals√°v tetej√©re -->
                    <header class="text-center mb-6">
                        <h1 class="text-2xl font-extrabold text-[#118AB2]">CSERE K√ÅRTY√ÅK</h1>
                        <p class="mt-1 text-sm text-gray-600">Lapozhat√≥ lista</p>
                    </header>

                    <nav>
                        <h3 class="text-lg font-bold text-[#FF6B6B] mb-4 border-b pb-2 border-gray-200">Kateg√≥ri√°k</h3>
                        
                        <!-- Kateg√≥ria gombok gener√°l√°sa JS-b≈ël -->
                        <div id="category-filter" class="flex flex-col gap-2">
                            <!-- JS GENERATED BUTTONS GO HERE -->
                        </div>
                    </nav>
                </aside>
            </div>

            <!-- 2. F≈ê TARTALOM / K√ÅRTYA N√âZEGET≈ê (MAIN) -->
            <main class="md:flex-1">
                <div id="card-viewer-container" class="bg-white rounded-xl shadow-2xl p-6 card-viewer flex flex-col items-center justify-between">
                    
                    <!-- Kezd≈ëk√©perny≈ë / K√°rtya adatok -->
                    <div id="card-display-area" class="w-full max-w-xl text-center">
                        
                        <!-- Semleges kezd≈ëk√©perny≈ë tartalom (Default View) -->
                        <div id="welcome-screen" class="p-8 relative">
                            
                            <!-- KONFETTI CONTAINER -->
                            <div id="confetti-effect" class="confetti-container"></div>
                            <!-- END KONFETTI -->

                            <!-- F≈ê TARTALOM (Z-INDEX 10-ZEL) -->
                            <div class="relative z-10">
                                
                                <!-- Friss√≠tett log√≥ √©s felirat -->
                                <h2 class="text-5xl md:text-6xl font-extrabold text-[#073B4C] modern-font mb-2 tracking-tighter relative z-10">
                                    PANINI ADRENALYN
                                </h2>
                                <p class="4xl font-black text-[#FF6B6B] modern-font mb-6 tracking-widest relative z-10">
                                    XL <span class="text-[#06D6A0]">2026</span>
                                </p>
                                <!-- K√°rtyacser√©re utal√≥ kis felirat -->
                                <p class="mt-4 text-lg md:text-xl font-semibold text-[#118AB2] uppercase relative z-10">
                                    Cserek√°rtya nyilv√°ntart√≥
                                </p>
                                <p class="mt-2 text-md text-gray-500 relative z-10">
                                    A baloldali men√ºb≈ël v√°laszthatsz kateg√≥ri√°t a lapoz√°shoz!
                                </p>

                                <!-- Kapcsolatfelv√©teli sz√∂veg -->
                                <p class="mt-12 text-md md:text-lg font-semibold text-[#FF6B6B] modern-font relative z-10">
                                    Ha valamelyik k√°rtya √©rdekel, keress meg messengeren, vagy a csoportban.
                                    <br>
                                    √údv Robi
                                </p>
                                <!-- END √öJ -->
                            </div>
                        </div>

                        <!-- K√°rtya megjelen√≠t√©s (Filtered View - Rejtve ind√≠t√°skor) -->
                        <div id="filtered-card-view" class="hidden">
                            <p id="current-category" class="text-xl font-bold text-[#FF6B6B] mb-4 uppercase"></p>
                            <div class="relative w-full h-80 bg-gray-200 rounded-lg overflow-hidden shadow-xl mb-4 mx-auto max-w-[300px]">
                                <img id="card-image" class="w-full h-full transition-opacity duration-300" 
                                    src="https://placehold.co/300x400/06D6A0/073B4C?text=Cserek%C3%A1rtya+Fot%C3%B3" 
                                    onerror="this.src='https://placehold.co/300x400/06D6A0/073B4C?text=K%C3%A9p+Nem+El%C9%A9rhet%C5%91'">
                            </div>
                            
                            <h2 id="card-name" class="3xl font-extrabold text-[#073B4C] my-2">K√°rtya Neve</h2>
                            <p class="text-lg font-semibold text-[#118AB2]">Sorsz√°m: <span id="card-number" class="text-[#073B4C]">00</span></p>
                            <p class="text-md text-gray-500">Csapat: <span id="card-team">Nincs Adat</span></p>
                        </div>
                    </div>

                    <!-- Lapoz√≥ gombok (Rejtve ind√≠t√°skor) -->
                    <div id="pagination-controls" class="hidden flex justify-between w-full max-w-xl mt-6">
                        <button id="prev-button" 
                                class="bg-[#FFD166] text-[#073B4C] font-bold py-3 px-6 rounded-full shadow-lg transition-all hover:bg-[#FF6B6B] hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed">
                            &larr; El≈ëz≈ë
                        </button>
                        
                        <p id="card-counter" class="text-xl font-bold self-center text-[#118AB2]"></p>

                        <button id="next-button" 
                                class="bg-[#FFD166] text-[#073B4C] font-bold py-3 px-6 rounded-full shadow-lg transition-all hover:bg-[#06D6A0] hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed">
                            K√∂vetkez≈ë &rarr;
                        </button>
                    </div>
                </div>
            </main>
        </div>
    </div>

<script>
    
    // A K√ÅRTY√ÅK KATEG√ìRI√ÅI √âS A KLUBNEVEK MOST M√ÅR K√úL√ñN SZ≈∞R≈êDNEK!

    const swapCardsData = [
        // Ide illeszd be a k√°rtya adataidat! FONTOS: vessz≈ëvel v√°laszd el az elemeket, √©s az utols√≥ ut√°n NE tegy√©l vessz≈ët!
        
        // K√úL√ñNLEGES K√ÅRTY√ÅK MINT√ÅI
        { category: "World Cup", name: "WC Lap 1 (Minta)", number: 40, team: "Brazil", img: "https://placehold.co/300x400/118AB2/ffffff?text=World+Cup+40", isClub: false },
        { category: "World Cup", name: "WC Lap - Harry Kane", number: 12, team: "England", img: "https://placehold.co/300x400/118AB2/ffffff?text=WC+England+12", isClub: false },
        { category: "Elite k√°rty√°k", name: "Cristiano Ronaldo", number: 19, team: "Al Nassr", img: "https://placehold.co/300x400/FF6B6B/ffffff?text=Elite+Ronaldo", isClub: false },
        { category: "Fans' favourite k√°rty√°k", name: "Fan Fav Lap A", number: 98, team: "Best Player A", img: "https://placehold.co/300x400/FFD166/073B4C?text=Fan+Fav+98", isClub: false },
        { category: "Golden Baller", name: "Golden Baller Lap", number: 1, team: "Messi", img: "https://placehold.co/300x400/FFD166/073B4C?text=Golden+Baller+1", isClub: false },
        
        // PARALEL K√ÅRTY√ÅK MINT√ÅI
        { category: "K√©k paralel", name: "K√©k Paralel Lap", number: 55, team: "Chelsea", img: "https://placehold.co/300x400/118AB2/ffffff?text=K%C3%A9k+Paralel+55", isClub: false },
        { category: "Piros paralel", name: "Piros Paralel Lap", number: 66, team: "Arsenal", img: "https://placehold.co/300x400/FF6B6B/ffffff?text=Piros+Paralel+66", isClub: false },
        { category: "R√≥zsasz√≠n paralel", name: "R√≥zsasz√≠n Paralel Lap", number: 77, team: "PSG", img: "https://placehold.co/300x400/FF6B6B/ffffff?text=R%C3%B3zsasz%C3%ADn+77", isClub: false },
        
        // KLUB K√ÅRTY√ÅK MINT√ÅI (isClub: true)
        { category: "Klub K√°rty√°k", name: "Leverkusen Lap 1", number: 10, team: "Leverkusen", img: "https://placehold.co/300x400/06D6A0/073B4C?text=Leverkusen+10", isClub: true },
        { category: "Klub K√°rty√°k", name: "PSV Lap 1", number: 5, team: "PSV", img: "https://placehold.co/300x400/118AB2/ffffff?text=PSV+5", isClub: true },
        { category: "Klub K√°rty√°k", name: "Liverpool Lap 1", number: 6, team: "Liverpool", img: "https://placehold.co/300x400/FF6B6B/ffffff?text=Liverpool+6", isClub: true },
        { category: "Klub K√°rty√°k", name: "Frankfurt Lap 1", number: 1, team: "Frankfurt", img: "https://placehold.co/300x400/FFD166/073B4C?text=Frankfurt+1", isClub: true },
        { category: "Klub K√°rty√°k", name: "Paris Lap 1", number: 1, team: "Paris", img: "https://placehold.co/300x400/06D6A0/073B4C?text=Paris+1", isClub: true },
        { category: "Klub K√°rty√°k", name: "Al Nassr Lap 1", number: 1, team: "Al Nassr", img: "https://placehold.co/300x400/118AB2/ffffff?text=Al+Nassr+1", isClub: true },
        { category: "Klub K√°rty√°k", name: "Inter Lap 1", number: 1, team: "Inter", img: "https://placehold.co/300x400/FF6B6B/ffffff?text=Inter+1", isClub: true },
        { category: "Klub K√°rty√°k", name: "Milan Lap 1", number: 3, team: "Milan", img: "https://placehold.co/300x400/FFD166/073B4C?text=Milan+3", isClub: true },
        { category: "Klub K√°rty√°k", name: "Real Madrid Lap 1", number: 5, team: "Real Madrid", img: "https://placehold.co/300x400/06D6A0/073B4C?text=Real+5", isClub: true },
        { category: "Klub K√°rty√°k", name: "Barcelona Lap 1", number: 1, team: "Barcelona", img: "https://placehold.co/300x400/118AB2/ffffff?text=Barcelona+1", isClub: true },
        { category: "Klub K√°rty√°k", name: "Botafogo Lap 1", number: 3, team: "Botafogo", img: "https://placehold.co/300x400/FF6B6B/ffffff?text=Botafogo+3", isClub: true },
        { category: "Klub K√°rty√°k", name: "Sporting Lap 1", number: 6, team: "Sporting", img: "https://placehold.co/300x400/FFD166/073B4C?text=Sporting+6", isClub: true },
        { category: "Klub K√°rty√°k", name: "Olympiacos Lap 1", number: 13, team: "Olympiacos", img: "https://placehold.co/300x400/06D6A0/073B4C?text=Olympiacos+13", isClub: true },
        { category: "Klub K√°rty√°k", name: "Marseille Lap 1", number: 5, team: "Marseille", img: "https://placehold.co/300x400/118AB2/ffffff?text=Marseille+5", isClub: true },
        { category: "Klub K√°rty√°k", name: "Ajax Lap 1", number: 10, team: "Ajax", img: "https://placehold.co/300x400/FF6B6B/ffffff?text=Ajax+10", isClub: true },
        { category: "Klub K√°rty√°k", name: "Atletico Madrid Lap 1", number: 2, team: "Atletico Madrid", img: "https://placehold.co/300x400/FFD166/073B4C?text=Atletico+2", isClub: true }
    ];

    let currentCategory = null; // null-ra √°ll√≠tva a kezd≈ëk√©perny≈ë miatt
    let currentCardIndex = 0;
    let filteredCards = [];

    // K√ºl√∂n defini√°ljuk a struktur√°lt kateg√≥ri√°kat, hogy a gombfriss√≠t√©sn√©l is el√©rhet≈ë legyen.
    let structuredCategories = {}; 

    const elements = {
        filterContainer: document.getElementById('category-filter'),
        cardImage: document.getElementById('card-image'),
        cardName: document.getElementById('card-name'),
        cardNumber: document.getElementById('card-number'),
        cardTeam: document.getElementById('card-team'),
        currentCategoryEl: document.getElementById('current-category'),
        cardCounter: document.getElementById('card-counter'),
        prevButton: document.getElementById('prev-button'),
        nextButton: document.getElementById('next-button'),
        welcomeScreen: document.getElementById('welcome-screen'),
        filteredCardView: document.getElementById('filtered-card-view'),
        paginationControls: document.getElementById('pagination-controls'),
        confettiEffect: document.getElementById('confetti-effect')
    };

    const HUNGARIAN_COLORS = ['#FF6B6B', '#FFFFFF', '#06D6A0'];

    let confettiInterval;

    function startConfetti() {
        stopConfetti(); 

        const container = elements.confettiEffect;
        
        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.classList.add('confetti');

            const color = HUNGARIAN_COLORS[Math.floor(Math.random() * HUNGARIAN_COLORS.length)];
            confetti.style.backgroundColor = color === '#FFFFFF' ? 'rgba(255, 255, 255, 0.7)' : color;
            
            const startX = Math.random() * container.offsetWidth;
            const size = Math.random() * 8 + 4;
            const duration = Math.random() * 5 + 7;

            confetti.style.left = startX + 'px';
            confetti.style.width = size + 'px';
            confetti.style.height = size + 'px';
            
            confetti.style.animation = `fall ${duration}s linear forwards`; 
            
            container.appendChild(confetti);
        }

        confettiInterval = setInterval(createConfetti, 500); 
    }

    function stopConfetti() {
        if (confettiInterval) {
            clearInterval(confettiInterval);
            confettiInterval = null;
        }
    }


    // √öJ F√úGGV√âNY: Struktur√°lt kateg√≥ri√°kat ad vissza a men√º √©p√≠t√©s√©hez.
    function getStructuredCategories() {
        const clubNames = Array.from(new Set(swapCardsData
            .filter(card => card.isClub)
            .map(card => card.team)
        )).sort();

        const specialCategories = Array.from(new Set(swapCardsData
            .filter(card => !card.isClub)
            .map(card => card.category)
        )).filter(cat => cat !== 'Klub K√°rty√°k').sort();

        structuredCategories = {
            regular: ['Kezd≈ëoldal', ...specialCategories, '√ñsszes k√°rtya'],
            clubs: clubNames
        };
        return structuredCategories;
    }

    // F√úGGV√âNY: Kezeli a sz≈±r√©st
    function filterCards(filterValue) {
        
        // Bez√°rja a klubmen√ºt, ha nem a klubgombon kattintottak
        const dropdownMenuEl = document.getElementById('club-dropdown-menu');
        if (dropdownMenuEl) {
             // Nem z√°rja be automatikusan, mivel az alap√©rtelmezett √°llapot a nyitott
        }

        if (filterValue === 'Kezd≈ëoldal') {
            currentCategory = 'Kezd≈ëoldal';
            filteredCards = [];
            
            elements.welcomeScreen.classList.remove('hidden');
            elements.filteredCardView.classList.add('hidden');
            elements.paginationControls.classList.add('hidden');
            
            updateFilterButtons(filterValue);
            startConfetti();
            return;
        }

        if (filterValue === '√ñsszes k√°rtya') {
            filteredCards = swapCardsData;
        } else {
            // Sz≈±r√©s kateg√≥ri√°ra VAGY csapatn√©vre
            filteredCards = swapCardsData.filter(card => 
                card.category === filterValue || card.team === filterValue
            );
        }
        
        currentCardIndex = 0;
        currentCategory = filterValue;
        
        elements.welcomeScreen.classList.add('hidden');
        elements.filteredCardView.classList.remove('hidden');
        elements.paginationControls.classList.remove('hidden');
        
        stopConfetti();
        updateCardDisplay();
        updateFilterButtons(filterValue);
    }

    // HELPER: L√©trehoz egy gombot
    function createButton(text, filterValue, additionalClasses = '') {
        const button = document.createElement('button');
        button.className = `filter-button text-sm font-semibold py-2 px-3 rounded-lg transition-colors duration-200 whitespace-nowrap w-full text-left ${additionalClasses}`;
        button.dataset.category = filterValue;
        button.textContent = text;
        button.addEventListener('click', () => filterCards(filterValue));
        return button;
    }

    // F√úGGV√âNY: Friss√≠ti a gombok st√≠lus√°t az akt√≠v kateg√≥ria alapj√°n
    function updateFilterButtons(activeCategory) {
        const categoryToActivate = activeCategory === null ? 'Kezd≈ëoldal' : activeCategory; 
        const isClubSelected = structuredCategories.clubs.includes(categoryToActivate);
        
        // Gombok friss√≠t√©se
        document.querySelectorAll('.filter-button').forEach(button => {
            // Alap st√≠lus
            button.classList.remove('bg-[#118AB2]', 'text-white', 'shadow-md');
            // K√ºl√∂nleges st√≠lus a klub almen√º elemeire
            if (button.closest('ul')) {
                button.classList.add('text-gray-700', 'hover:bg-[#FFD166]');
            } else {
                button.classList.add('bg-gray-200', 'text-gray-700', 'hover:bg-gray-300');
            }

            // Akt√≠v st√≠lus
            if (button.dataset.category === categoryToActivate) {
                button.classList.remove('bg-gray-200', 'text-gray-700', 'hover:bg-gray-300', 'hover:bg-[#FFD166]');
                button.classList.add('bg-[#118AB2]', 'text-white', 'shadow-md');
            }
        });
        
        // KLUBOK f≈ë gombj√°nak vizu√°lis friss√≠t√©se, ha egy klub ki van v√°lasztva
        const clubButton = document.getElementById('club-main-button');
        if (clubButton) {
            if (isClubSelected) {
                 clubButton.classList.add('bg-[#FF6B6B]', 'text-white', 'shadow-md');
                 clubButton.classList.remove('bg-gray-200', 'text-gray-700');
            } else {
                 clubButton.classList.remove('bg-[#FF6B6B]', 'text-white', 'shadow-md');
                 clubButton.classList.add('bg-gray-200', 'text-gray-700');
            }
        }
    }


    // F√úGGV√âNY: L√©trehozza a men√º strukt√∫r√°t (speci√°lis Klubok r√©sszel)
    function renderFilterButtons() {
        const structured = getStructuredCategories();
        const filterContainer = elements.filterContainer;
        filterContainer.innerHTML = '';

        // 1. Norm√°l Kateg√≥ri√°k (Kezd≈ëoldal, Elite, WC, √ñsszes)
        structured.regular.forEach(category => {
            if (!category) return;
            const button = createButton(category, category);
            filterContainer.appendChild(button);
        });

        // 2. Klubok leny√≠l√≥ men√º (CLICK logik√°val)
        const clubWrapper = document.createElement('div');
        clubWrapper.className = 'relative'; // Elt√°vol√≠tva a 'group'
        clubWrapper.id = 'club-wrapper'; 
        
        // Klubok F≈ë Gomb/C√≠mke
        const clubButton = document.createElement('button');
        clubButton.id = 'club-main-button'; 
        clubButton.className = 'w-full text-left font-bold text-sm py-2 px-3 rounded-lg transition-colors duration-200 bg-gray-200 text-gray-700 hover:bg-gray-300';
        clubButton.textContent = 'KLUBOK (Csapatok) ‚ñ≤'; // Alapb√≥l nyitott √°llapotot jelz≈ë ny√≠l
        
        // Leny√≠l√≥ Kont√©ner (Klubok)
        const dropdownMenu = document.createElement('ul');
        dropdownMenu.id = 'club-dropdown-menu';
        // FONTOS: Elt√°vol√≠tottam a 'hidden' oszt√°lyt a CLUB-DROPDOWN-MENU-r√≥l!
        dropdownMenu.className = 'w-full bg-white rounded-lg shadow-inner py-1 z-20 border-t border-gray-100 max-h-[250px] overflow-y-auto';

        // √öJ: Click handler a leny√≠l√≥ men√º BEZ√ÅR√ÅS√ÅHOZ/kinyit√°s√°hoz
        clubButton.addEventListener('click', (e) => {
            e.preventDefault();
            const isHidden = dropdownMenu.classList.contains('hidden');

            if (isHidden) {
                dropdownMenu.classList.remove('hidden');
                clubButton.textContent = 'KLUBOK (Csapatok) ‚ñ≤';
            } else {
                dropdownMenu.classList.add('hidden');
                clubButton.textContent = 'KLUBOK (Csapatok) üîª';
            }
        });
        
        clubWrapper.appendChild(clubButton);

        structured.clubs.forEach(clubName => {
            const listItem = document.createElement('li');
            const clubFilterButton = createButton(clubName, clubName, 'text-left w-full rounded-none');
            listItem.appendChild(clubFilterButton);
            dropdownMenu.appendChild(listItem);
        });

        clubWrapper.appendChild(dropdownMenu);
        filterContainer.appendChild(clubWrapper);

        // Kezdeti √°llapot be√°ll√≠t√°sa
        updateFilterButtons(null);
        startConfetti();
    }

    function updateCardDisplay() {
        if (filteredCards.length === 0) {
            elements.cardImage.src = 'https://placehold.co/300x400/FF6B6B/ffffff?text=Nincs+k%C3%A1rtya';
            elements.cardName.textContent = 'Nincs el√©rhet≈ë k√°rtya ebben a kateg√≥ri√°ban.';
            elements.cardNumber.textContent = 'N/A';
            elements.cardTeam.textContent = 'N/A';
            elements.currentCategoryEl.textContent = currentCategory;
            elements.cardCounter.textContent = '0 / 0';
            elements.prevButton.disabled = true;
            elements.nextButton.disabled = true;
            return;
        }

        const card = filteredCards[currentCardIndex];
        
        elements.cardImage.style.opacity = '0'; 
        setTimeout(() => {
            elements.cardImage.classList.remove('object-cover'); 
            elements.cardImage.src = card.img;
            elements.cardImage.style.opacity = '1';
        }, 150); 
        
        elements.cardName.textContent = card.name;
        elements.cardNumber.textContent = card.number;
        elements.cardTeam.textContent = card.team;
        elements.currentCategoryEl.textContent = currentCategory;
        elements.cardCounter.textContent = `${currentCardIndex + 1} / ${filteredCards.length}`;

        elements.prevButton.disabled = currentCardIndex === 0;
        elements.nextButton.disabled = currentCardIndex === filteredCards.length - 1;
    }

    function handlePrev() {
        if (currentCardIndex > 0) {
            currentCardIndex--;
            updateCardDisplay();
        }
    }

    function handleNext() {
        if (currentCardIndex < filteredCards.length - 1) {
            currentCardIndex++;
            updateCardDisplay();
        }
    }

    elements.prevButton.addEventListener('click', handlePrev);
    elements.nextButton.addEventListener('click', handleNext);

    document.addEventListener('DOMContentLoaded', renderFilterButtons);

</script>
</body>
</html>
